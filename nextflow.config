conda.enabled = true

executor {
	queueSize = 200
	submitRateLimit = '1sec'
}

params {
	outdir = "./results"
	genome = "/scratch/davide.rambaldi/nf-fragmentomics_sandbox/references/GRCh38.2bit"
	genome_size = 2913022398
	genome_sizes = "/scratch/davide.rambaldi/nf-fragmentomics_sandbox/references/GRCh38.sizes"
	mappability_bw = "/scratch/davide.rambaldi/nf-fragmentomics_sandbox/references/GRCh38_full_subset_noalt_nopatch_50.bw"
	mappability_treshold = 0.6	
}

profiles {
	hpc {
		process.executor = 'slurm'
		process.queue = 'cpuq'
		errorStrategy = {task.exitStatus in [104,134,137,139,143,255] ? 'retry' : 'finish' }
		maxErrors = '-1'
		maxRetries = 5
		scratch = "\$TMPDIR"
	}
}
